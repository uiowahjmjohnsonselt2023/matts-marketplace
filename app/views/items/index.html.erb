<p style="color: green"><%= notice %></p>

<h1>All Products</h1>
<%= button_to 'Home', root_path, method: :get, class: 'btn btn-primary' %>
<%= button_to 'Add New item', new_item_path, method: :get, class: 'btn btn-primary' %>

<h2>Search for items:</h2>
<%= form_tag(search_items_path, method: "get") do %>
  <div class="form-group">
    <%= label_tag "search", "Search descriptions:" %>
    <%= text_field_tag "search", params[:search], class: "form-control", placeholder: "Enter your search terms",
                       size: 50 %>
  </div>
  <div class="form-group">
    <%= label_tag "category", "Category:" %>
    <%= select_tag "category", options_for_select(["Electronics", "Books", "Home", "Toys"], params[:category]),
                   include_blank: "All Categories", class: "form-control" %>
  </div>
  <div class="form-group">
    <%= label_tag "price_range", "Price Range:" %>
    <%= select_tag "price_range", options_for_select(["$0-25", "$25-50", "$50-100", "$100-500", "> $500"],
                                                     params[:price_range]), include_blank: "Any", class: "form-control"%>
  </div>
  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>


<h2>Here is a list of all items:</h2>
<table class="table">
  <thead>
  <tr class="table-header">
    <th>Description</th>
    <th>Price</th>
    <th>Category</th>
    <th>For Sale</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <% @items.each do |item| %>
    <tr class="table-row">
      <td><%= item.description %></td>
      <td><%= number_to_currency(item.price) %></td>
      <td><%= item.category.name %></td>
      <td><%= item.for_sale ? 'Yes' : 'No' %></td>
      <td>
        <%= link_to "Show this item", item_path(item) %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
